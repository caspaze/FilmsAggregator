<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</head>
<body>
<div class="d-flex flex-row">
    <nav class="col-2 offset-1 w-75 navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Home</a>
            <form class="d-flex" method="get" action="/search">
                <input class="form-control me-2" type="search" name="name" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </nav>

</div>
<div class="dropdown">
    <button class="btn btn-primary btn-lg dropdown-toggle offset-11" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
        </svg>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        <li th:if="${user!=null}"><a class="dropdown-item" th:href="@{'/user/' + ${user.getId()}}"> Профиль</a></li>
        <li th:if="${user==null}"><a class="dropdown-item" th:href="@{'/login'}"> Войти в профиль</a></li>
        <li><a class="dropdown-item" href="#">Настройки</a></li>
        <li><hr class="dropdown-divider"></li>
        <li>
            <input class="dropdown-item" type="submit" value="Submit">
        </li>
        <li>
            <form class="dropdown-item" th:action="@{/logout}" method="post">
                <input type="submit" value="Sign Out"/>
            </form>
        </li>

    </ul>
</div>
<div class="row">
    <div class="col-sm-2 offset-1">
        <a th:href="@{'/film/' + ${film1.getId()}}" style="text-decoration: none" class="link-dark">
        <div class="card mt-5" style="width: 18rem;">
            <img class="card-img-top" alt="..." th:src="'data:image/jpeg;base64,' + ${film1.getStringImg()}" >
            <div class="card-body">
                <h5 class="card-title" th:text="${film1.getName()}"></h5>
                <p class="card-text"><span th:text="${film1.getDate().getYear()}"></span>, <span th:text="${film1.getCountry().getName()}"></span></p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" >Оценка: <span th:text="${film1.getRating()}"></span></li>
            </ul>
        </div>
        </a>
    </div>
    <div class="col-sm-2">
        <a th:href="@{'/film/' + ${film2.getId()}}" style="text-decoration: none" class="link-dark">
        <div class="card mt-5" style="width: 18rem;">
            <img class="card-img-top" alt="..." th:src="'data:image/jpeg;base64,' + ${film2.getStringImg()}" >
            <div class="card-body">
                <h5 class="card-title" th:text="${film2.getName()}"></h5>
                <p class="card-text"><span th:text="${film2.getDate().getYear()}"></span>, <span th:text="${film2.getCountry().getName()}"></span></p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" >Оценка: <span th:text="${film2.getRating()}"></span></li>
            </ul>
        </div>
        </a>
    </div>
</div>
<div class="row">
    <div class="col-sm-2 offset-1">
        <a th:href="@{'/film/' + ${film2.getId()}}" style="text-decoration: none" class="link-dark">
        <div class="card mt-3" style="width: 18rem;">
            <img class="card-img-top" alt="..." th:src="'data:image/jpeg;base64,' + ${film3.getStringImg()}" >
            <div class="card-body">
                <h5 class="card-title" th:text="${film3.getName()}"></h5>
                <p class="card-text"><span th:text="${film3.getDate().getYear()}"></span>, <span th:text="${film3.getCountry().getName()}"></span></p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" >Оценка: <span th:text="${film3.getRating()}"></span></li>
            </ul>
        </div>
        </a>
    </div>
    <div class="col-sm-2">
        <a th:href="@{'/film/' + ${film3.getId()}}" style="text-decoration: none" class="link-dark">
        <div class="card mt-3" style="width: 18rem;">
            <img class="card-img-top" alt="..." th:src="'data:image/jpeg;base64,' + ${film4.getStringImg()}" >
            <div class="card-body">
                <h5 class="card-title" th:text="${film4.getName()}"></h5>
                <p class="card-text"><span th:text="${film4.getDate().getYear()}"></span>, <span th:text="${film4.getCountry().getName()}"></span></p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" >Оценка: <span th:text="${film4.getRating()}"></span></li>
            </ul>
        </div>
        </a>
    </div>
</div>
</body>
</html>